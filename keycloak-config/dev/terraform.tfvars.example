keycloak_url           = "https://keycloak.dev.example.com"
# Optional: override if you don't want to use bootstrap realm output.
# keycloak_auth_realm    = "terraform"
# Optional: override if you don't want to use bootstrap outputs.
# keycloak_client_id     = "terraform"
# keycloak_client_secret = "replace-me"

bootstrap_state_bucket     = "keycloak-terraform-state"
bootstrap_state_key        = "bootstrap/terraform.tfstate"
bootstrap_state_region     = "us-east-1"
bootstrap_state_endpoint   = "https://minio.example.com"
bootstrap_state_access_key = "minio"
bootstrap_state_secret_key = "minio123"

clients = {
  app = {
    client_id     = "app"
    name          = "Sample App"
    root_url      = "https://app.dev.example.com"
    redirect_uris = ["https://app.dev.example.com/*"]
    web_origins   = ["https://app.dev.example.com"]
    scopes = {
      terms = {
        description = "Terms & Conditions"
      }
      claims = {
        description = "Claims scope"
      }
    }
    default_scopes = ["terms", "claims"]
    mappers = [
      {
        name            = "tc-required"
        scope           = "terms"
        protocol_mapper = "oidc-hardcoded-claim-mapper"
        config = {
          "claim.name"        = "tc.required"
          "claim.value"       = "privacy,claims"
          "jsonType.label"    = "String"
          "access.token.claim" = "true"
          "id.token.claim"     = "true"
          "userinfo.token.claim" = "true"
        }
      },
      {
        name            = "tc-privacy-url"
        scope           = "terms"
        protocol_mapper = "oidc-hardcoded-claim-mapper"
        config = {
          "claim.name"        = "tc.term.privacy.url"
          "claim.value"       = "https://example.com/privacy"
          "jsonType.label"    = "String"
          "access.token.claim" = "true"
          "id.token.claim"     = "true"
          "userinfo.token.claim" = "true"
        }
      },
      {
        name            = "dept-transform"
        scope           = "claims"
        protocol_mapper = "value-transform-protocol-mapper"
        config = {
          "source.user.attribute"       = "dept_code"
          "target.claim.name"           = "dept"
          "mapping.inline"              = "A01:finance,A02:people"
          "mapping.client.autoKey"      = "true"
          "mapping.client.key"          = "dept.map"
          "fallback.original"           = "true"
          "source.user.attribute.multi" = "false"
          "access.token.claim"          = "true"
          "id.token.claim"              = "true"
          "userinfo.token.claim"        = "true"
          "claim.name"                  = "dept"
          "jsonType.label"              = "String"
        }
      }
    ]
  }
  app_secondary = {
    client_id     = "app-secondary"
    name          = "Sample App Secondary"
    root_url      = "https://app2.dev.example.com"
    redirect_uris = ["https://app2.dev.example.com/*"]
    web_origins   = ["https://app2.dev.example.com"]
    scopes = {
      terms = {
        description = "Terms & Conditions"
      }
    }
    default_scopes = ["terms"]
    mappers = []
  }
}

saml_idp_alias            = "corp-saml"
saml_idp_display_name     = "Corp SAML"
saml_entity_id            = "https://sso.dev.example.com/metadata"
saml_sso_url              = "https://sso.dev.example.com/saml/sso"
saml_slo_url              = "https://sso.dev.example.com/saml/slo"
saml_signing_certificate  = "-----BEGIN CERTIFICATE-----\nMIID...snip...\n-----END CERTIFICATE-----"
saml_enabled              = true
saml_principal_type       = "ATTRIBUTE"
saml_principal_attribute  = "email"
